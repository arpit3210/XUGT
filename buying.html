<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buy Gold Token</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">

  <style>
    body {
      /* background-color: rgb(224, 204, 15); */
      color: aliceblue;

      background: rgb(131, 58, 180);
      background: linear-gradient(90deg, rgba(131, 58, 180, 1) 0%, rgba(253, 29, 29, 1) 78%, rgba(252, 176, 69, 1) 100%);
      color: rgb(243, 243, 243);

      min-height: 100vh;
    }



    .price-cart {
      margin-top: 50px;
      display: flex;
      align-items: center;
      justify-content: center;

    }
  </style>
</head>

<body>

  <section>
    <nav class="navbar" style="background-color: #08070367;">
      <div class="container-fluid">
        <a class="navbar-brand" href="./index.html"><img style="height: 40px;" src="./assets/img/logo_gold.png"
            alt=""></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll"
          aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarScroll">
          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://goldy-dao.vercel.app/">UGT DAO</a>
            </li>
            <!-- <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                Link
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li> -->
            <!-- <li class="nav-item">
                            <a class="nav-link disabled" aria-disabled="true">Link</a>
                        </li> -->
          </ul>
          <form class="d-flex" role="search">
            <!-- <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"> -->
            <!-- <button class="btn btn-outline-success" type="submit">Search</button> -->
          </form>
        </div>
      </div>
    </nav>


  </section>

  <div class="position-relative m-4">
    <div class="progress" role="progressbar" aria-label="Progress" aria-valuenow="50" aria-valuemin="0"
      aria-valuemax="100" style="height: 1px;">
      <div class="progress-bar" style="width: 50%"></div>
    </div>
    <button type="button" class="position-absolute top-0 start-0 translate-middle btn btn-sm btn-primary rounded-pill"
      style="width: 2rem; height:2rem;">1</button>
    <button type="button" class="position-absolute top-0 start-50 translate-middle btn btn-sm btn-primary rounded-pill"
      style="width: 2rem; height:2rem;">2</button>
    <button type="button"
      class="position-absolute top-0 start-100 translate-middle btn btn-sm btn-secondary rounded-pill"
      style="width: 2rem; height:2rem;">3</button>
  </div>

  <hr>


  <section
    style="display: flex;  box-shadow: rgb(10, 9, 2) 10px 10px 10px;; align-items: center; justify-content: center;"
    class="main d-flex flex-wrap btn-group ">

    <button id="address" style="text-shadow: black 10px 10px 10px;" type="button" class="btn btn-info"> <b>Address : <p id="accountaddress"></p></b>
    </button>
    <button id="tokenbalance" style="text-shadow: black 10px 10px 10px;" type="button" class="btn btn-success"> <b> UGT
        Token
        Balance</b> <p>: 232 UGT</p> </button>
    <button id="polygonbala" style="text-shadow: black 10px 10px 10px;" type="button" class="btn btn-warning">
      <b>XRP Balance</b> <P>: 345 XRP</P> </button>



  </section>

  <!-- Price chart or price value  -->
  <section class="price-cart ">
    <div class="card bg-warning" style="width: 18rem; border-radius: 30px; box-shadow: rgb(10, 9, 2) 10px 10px 20px;">
      <img src="./assets/img/logo_gold.png" class="card-img-top" alt="...">
      <div class="card-body">
        <p style="text-align: center; text-shadow: black 10px 10px 10px;"><b>Token Price : </b><span id="tokenprice"
            class="text-bg-info">20 XRP</span>
        </p>

        <div class="input-group mb-3" style="text-shadow: black 10px 10px 10px; box-shadow: black 15px 15px 30px;">

          <span class="input-group-text">$</span>
          <input type="number" id="amountToBuyInput" placeholder="Token amount" class="form-control"
            aria-label="Amount (to the nearest dollar)">
          <span class="input-group-text">.00</span>
        </div>
      </div>
    </div>



  </section>


  <br>
  <section style="display: flex; align-items: center; justify-content: center;">

    <button onclick="scancode()" style="box-shadow: black 10px 10px 20px; margin: 20px;" id="buyTokensButton" type="button"
      class="btn btn-success">Buy UGT Tokens</button>
    <br>
    </div>
  </section>





  <section style="   background: rgb(131, 58, 180);
  background: linear-gradient(90deg, rgba(131, 58, 180, 1) 0%, rgba(94, 253, 29, 1) 33%, rgba(252, 176, 69, 1) 100%);
  box-shadow: rgb(10, 9, 2) 10px 10px 10px;
  text-align: center;
   text-shadow: rgb(3, 3, 3) 1px 0 10px;" class="text-bg-info text-sm-center border-4 m-4 p-5 rounded-5">



    Check your wallet amount before proceeding any further transaction

    <!-- <h1 id="accountaddress">...</h1>
    <button id="signinbutton" onclick="xumm.authorize()">Login</button>
    <button id="logoutbutton" onclick="xumm.logout()">Logout</button> -->

    <!-- <button onclick="xumm.openSignRequest()">Sign</button> -->


    <pre id="payload">...</pre>



    <div id="qr">
        <img id="imageElement" src="" alt="">
    </div>

    <div id="being-process" style="display: none;">
      <p class="bg-success rounded-5">Transaction is being process.....
      <div class="spinner-border text-success" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      </p>
    </div>





  </section>

  <section class="logo-slider"></section>

  <section class="footer"></section>

  <script src="https://xumm.app/assets/cdn/xumm.min.js"></script>
  <script>
    var xumm = new Xumm('018f4fbf-7496-4cb0-a6ed-c43a069b4a16')

    xumm.on("ready", () => console.log("Ready (e.g. hide loading state of page)"))

    // We rely on promises in the `success` event: fired again if a user
    // logs out and logs back in again (resets all promises)

    xumm.on("success", async () => {
      xumm.user.account.then(account => {
        document.getElementById('accountaddress').innerText = account
        //   const txInfo =Sdk.getTransaction(txHash);
      })
    })

    xumm.on("logout", async () => {
      document.getElementById('accountaddress').innerText = '...'
    })




    
  function scancode()
  {
    xumm.payload.createAndSubscribe({
            TransactionType: 'Payment',
            Destination: 'rfHn6cB5mmqZ6fHZ4fdemCDSxqLTijgMwo',
            Amount: String(300000000) // one million drops, 300 XRP
        }, eventMessage => {
            if (Object.keys(eventMessage.data).indexOf('opened') > -1) {
                // Update the UI? The payload was opened.
            }
            if (Object.keys(eventMessage.data).indexOf('signed') > -1) {
                // The `signed` property is present, true (signed) / false (rejected)
                return eventMessage
            }
        })
            .then(({ created, resolved }) => {
                console.log('Payload URL:', created.next.always)
                console.log('Payload QR:', created.refs.qr_png)



                var imageElement = document.getElementById('imageElement');

                // Set the URL of the image
                var imageurl = created.refs.qr_png;

                // Set the src attribute of the image element
                imageElement.src = imageurl;



                // var website = document.getElementById('website');
                // website.src=created.next.always;
                return resolved // Return payload promise for the next `then`



            })
            .then(payload => {
                console.log('Payload resolved', payload)
                if (payload.data.signed === true) {
                    window.location.href = 'completetransaction.html';
                }
                else {
                    window.location.href = 'failedtrx.html';
                }
            }
            )
  }


    
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>






  <script>


  </script>
</body>

</html>